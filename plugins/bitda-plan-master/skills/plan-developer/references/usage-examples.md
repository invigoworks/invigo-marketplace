# Usage Examples

## Migration/Redesign Examples

### Example M1: Image-Based Migration
```
User: 재고관리 기능 마이그레이션 기획해줘. 기존 솔루션 스크린샷이
      migration_image/inventory 폴더에 있어.

Response:
재고관리 기능 마이그레이션을 시작하겠습니다.

## Step M1: 소스 분석

migration_image/inventory 폴더의 모든 이미지를 분석합니다.

[발견된 이미지: 5개]
- inventory_list.png
- inventory_detail.png
- inventory_form.png
- inventory_search.png
- inventory_report.png

병렬로 모든 이미지를 분석 중...

[분석 완료]

## Step M2: 분석 결과 요약

### 화면 구성
| 화면명 | 유형 | 주요 기능 | 데이터 필드 |
|--------|------|----------|------------|
| 재고 목록 | S (목록) | 재고 조회/검색 | 품목코드, 품명, 현재고, 안전재고 |
| 재고 상세 | P (팝업) | 상세 정보 표시 | 입출고 이력, 재고 변동 |
| 재고 등록 | F (폼) | 재고 입력/수정 | 품목, 수량, 위치, 비고 |
| 재고 검색 | P (팝업) | 고급 검색 | 기간, 품목군, 창고 |
| 재고 리포트 | D (대시보드) | 현황 분석 | 차트, 통계 |

### 비즈니스 로직
- 안전재고 미달 시 경고 표시
- 재고 수정 시 이력 자동 생성
- 입출고 시 재고 자동 계산

## Step M3: 추가 요구사항 확인

분석이 완료되었습니다. 다음 사항을 확인해주세요:

1. **기존 기능 유지**: 분석된 모든 기능을 유지하시겠습니까?
2. **추가 기능**: 새로 추가할 기능이 있나요?
3. **변경 사항**: 기존 로직 중 변경할 부분이 있나요?
4. **UI/UX 개선**: 특별히 개선하고 싶은 부분이 있나요?
```

### Example M2: GitHub-Based Migration
```
User: https://github.com/company/old-erp 저장소의 주문관리 기능을
      재설계해줘.

Response:
주문관리 기능 재설계를 시작하겠습니다.

## Step M1: GitHub 코드 분석

저장소의 주문관리 관련 코드를 분석합니다.

[code-explorer 에이전트 실행]

### 분석된 구조
```
/src/orders/
├── OrderList.tsx         # 주문 목록 컴포넌트
├── OrderForm.tsx         # 주문 등록/수정 폼
├── OrderDetail.tsx       # 주문 상세 뷰
├── types/
│   └── order.ts          # 주문 타입 정의
├── hooks/
│   └── useOrders.ts      # 주문 관련 훅
└── services/
    └── orderApi.ts       # API 통신
```

### 추출된 비즈니스 로직
- 주문 상태: 대기 → 확인 → 처리중 → 완료/취소
- 주문 금액 계산: 단가 × 수량 - 할인
- 재고 확인: 주문 시 재고 검증
- 결제 연동: 외부 결제 API 호출

## Step M2: 분석 결과 요약
[상세 분석 결과...]

## Step M3: 추가 요구사항 확인

GitHub 분석이 완료되었습니다. 다음 사항을 확인해주세요:
[확인 질문...]
```

---

## Existing Document Update Examples

### Example U1: Update Existing Planning Document
```
User: https://www.notion.so/invigoworks/ENH-2e9471f8dcff81d9ba35c3c691ebc883?pvs=25
      문서에서 추가로 수정 요청사항이 들어왔어.
      거래처 별, 월 단위 요금제 관리 유형 탭도 있었으면 함.

Response:
기존 기획 문서 수정을 진행하겠습니다.

## Step U1: Page ID 추출

URL: https://www.notion.so/invigoworks/ENH-2e9471f8dcff81d9ba35c3c691ebc883
Page ID: 2e9471f8-dcff-81d9-ba35-c3c691ebc883

## Step U2: Notion MCP로 기존 문서 조회

[notion-fetch 호출]
[notion-fetch 호출]

## Step U3: 기존 문서 분석

### 현재 문서 상태
- 기획 명칭: [ENH] 요금제 구독 관리
- 버전: 1.0
- 진행 단계: 기획 초벌

### 기존 화면 구성
[기존 화면 목록...]

## Step U4: 수정 계획

### 수정 요청 사항
- 거래처 별, 월 단위 요금제 관리 유형 탭 추가
- 추후 미수금/영업 채권 관리 데이터로 활용

### 수정 계획
| 섹션 | 수정 유형 | 변경 내용 |
|------|----------|----------|
| 화면 구성 | 추가 | 월별 요금제 관리 탭 화면 추가 |
| 데이터 요구사항 | 추가 | 월별 요금제 이력 필드 추가 |
| 비즈니스 로직 | 추가 | 미수금 연동 로직 기획 |

수정을 진행할까요?
```

### Example U2: Update with Multiple Changes
```
User: https://www.notion.so/workspace/FEAT-abcd1234efgh5678ijkl9012mnop3456
      다음 내용으로 업데이트해줘:
      1. 담당자 선택 필드 추가
      2. 상태 필터 기능 추가

Response:
## Step U1-U2: 문서 조회

[Notion MCP로 기존 문서 조회 완료]

## Step U3: 수정 계획

| 섹션 | 수정 유형 | 변경 내용 |
|------|----------|----------|
| 입력 데이터 | 추가 | 담당자 선택 필드 (Select 컴포넌트) |
| 화면 구성 | 수정 | 목록 화면에 상태 필터 추가 |
| API 명세 | 수정 | 필터 파라미터 추가 |

[수정 진행...]
```

---

## Change Spec Examples (기획 변경)

### Example C1: 기획확정 후 필드 추가 변경
```
User: https://www.notion.so/invigoworks/FEAT-작업지시-abcd1234efgh5678ijkl9012mnop3456
      기획 확정된 작업지시 기능에서 '긴급 여부' 필드가 추가되어야 해.
      긴급일 경우 목록에서 빨간색 뱃지로 표시되어야 함.

Response:
기획 변경 명세서를 작성하겠습니다.

## Step C1: 문서 조회 및 상태 확인

[Notion MCP로 조회 완료]
- 진행 단계: 기획확정 ✓
- 현재 버전: 2.0

## Step C2: 변경 분석

### 변경 유형: 보충 (추가 기능/필드)

### 영향 범위 체크리스트
| 영역 | 변경 여부 | 변경 유형 |
|------|----------|----------|
| UI/화면 | ✓ | 수정 |
| API | ✓ | 수정 |
| 데이터 모델 | ✓ | 추가 |
| 비즈니스 로직 | - | - |
| 유효성 검증 | - | - |

## Step C3: 변경 명세서 작성

# [작업지시 관리] 기획 변경 명세서

## 변경 개요
| 항목 | 내용 |
|------|------|
| 원본 기획 버전 | 2.0 |
| 변경 버전 | 2.1 |
| 변경 일자 | 2025-01-15 |
| 변경 사유 | 긴급 작업지시 구분 필요 |

## 빠른 참조 (Quick Reference)

**Frontend**:
- [ ] 작업지시 목록: 긴급 뱃지 표시 추가
- [ ] 작업지시 등록/수정 폼: 긴급 여부 체크박스 추가

**Backend**:
- [ ] WorkOrder 엔티티: isUrgent 필드 추가
- [ ] GET /work-orders: isUrgent 필드 반환 추가
- [ ] POST/PUT /work-orders: isUrgent 필드 처리

## 2. 데이터 필드 변경 상세

### 2.1 필드 추가
| 필드명 | 타입 | 필수 | 유효성 검증 | shadcn 컴포넌트 | 영향 |
|--------|------|------|-------------|-----------------|------|
| 긴급 여부 (isUrgent) | Boolean | - | N/A | Checkbox | Both |

## 1. UI/화면 변경 상세

### 1.2 화면 수정

#### 작업지시 목록 - BITDA-CM-PRD-WO-S001

**변경 전**:
- DataTable에 기본 컬럼만 표시

**변경 후**:
- 긴급 여부 컬럼 추가 (Badge 컴포넌트, variant="destructive")
- 긴급 항목은 행에 빨간색 배경 하이라이트

**변경 항목**:
| 항목 | 변경 전 | 변경 후 | 영향 |
|------|---------|---------|------|
| 목록 컬럼 | 기본 컬럼 | + 긴급 여부 컬럼 | FE |
| 행 스타일 | 기본 | 긴급 시 bg-red-50 | FE |

[... 이하 생략]

## Step C4: Notion 업데이트

- 진행 단계: 기획확정 → 기획 변경
- 버전: 2.0 → 2.1
- content에 변경 명세서 추가 완료

변경 명세서가 기존 기획서 하단에 추가되었습니다.
FE/BE 개발자가 확인 후 "변경 확인 완료"라고 말씀해주시면
기획확정 상태로 복귀합니다.
```

### Example C2: 기획확정 후 로직 수정 변경
```
User: https://www.notion.so/workspace/FEAT-재고관리-xxxx
      재고 관리 기능에서 안전재고 계산 로직이 변경되어야 해.
      기존: 최근 30일 평균 출고량 × 1.5
      변경: 최근 30일 평균 출고량 × 리드타임(일) × 1.2

Response:
## Step C1: 문서 조회 및 상태 확인
[조회 완료 - 기획확정 상태]

## Step C2: 변경 분석

### 변경 유형: 수정 (기존 스펙 변경)

### 영향 범위 체크리스트
| 영역 | 변경 여부 | 변경 유형 |
|------|----------|----------|
| UI/화면 | - | - |
| API | ✓ | 수정 |
| 데이터 모델 | ✓ | 추가 |
| 비즈니스 로직 | ✓ | 수정 |
| 유효성 검증 | ✓ | 추가 |

## 빠른 참조 (Quick Reference)

**Frontend**:
- [ ] 품목 등록/수정 폼: 리드타임 필드 추가

**Backend**:
- [ ] Product 엔티티: leadTimeDays 필드 추가
- [ ] 안전재고 계산 서비스: 계산 공식 변경
- [ ] leadTimeDays 유효성 검증 추가 (1~365일)

## 4. 비즈니스 로직 변경 상세

### 4.2 로직 수정

#### 안전재고 계산

**변경 전**:
```
안전재고 = 최근30일평균출고량 × 1.5
```

**변경 후**:
```
안전재고 = 최근30일평균출고량 × 리드타임(일) × 1.2  // 공식 변경
```

## 2. 데이터 필드 변경 상세

### 2.1 필드 추가
| 필드명 | 타입 | 필수 | 유효성 검증 | shadcn 컴포넌트 | 영향 |
|--------|------|------|-------------|-----------------|------|
| 리드타임 (leadTimeDays) | Number | ✓ | 1~365 정수 | Input type="number" | Both |

[변경 명세서 Notion 업데이트 완료]
```

### Example C3: 기획확정 후 화면 제거 변경
```
User: 주문관리 기획에서 "주문 통계 대시보드" 화면이 1차 개발 범위에서
      제외되기로 했어. 변경 명세서 작성해줘.

Response:
## 변경 분석

### 변경 유형: 제거 (불필요 항목 삭제)

### 영향 범위 체크리스트
| 영역 | 변경 여부 | 변경 유형 |
|------|----------|----------|
| UI/화면 | ✓ | 제거 |
| API | ✓ | 제거 |
| 데이터 모델 | - | - |
| 비즈니스 로직 | - | - |
| 유효성 검증 | - | - |

## 빠른 참조 (Quick Reference)

**Frontend**:
- [ ] 주문 통계 대시보드 화면 제거 (BITDA-CM-ORD-OD-D001)
- [ ] 관련 라우트 제거
- [ ] 사이드바 메뉴에서 제거

**Backend**:
- [ ] GET /orders/statistics 엔드포인트 제거 (또는 Phase 2로 이동)

## 1. UI/화면 변경 상세

### 1.3 화면 제거
| 화면명 | 화면 코드 | 제거 사유 |
|--------|-----------|----------|
| 주문 통계 대시보드 | BITDA-CM-ORD-OD-D001 | 1차 개발 범위 제외 (Phase 2로 이동) |

## 3. API 변경 상세

### 3.3 엔드포인트 제거
| 엔드포인트 | 메서드 | 제거 사유 | 대체 API |
|------------|--------|----------|----------|
| /api/v1/orders/statistics | GET | Phase 2로 이동 | N/A |

[변경 명세서 Notion 업데이트 완료]
```

---

## New Feature Examples

### Example 1: New Feature Request
```
User: 작업지시 기능 기획해줘. 생산 현장에서 작업 지시를 내리고 진행 상황을
      추적하는 기능이야.

Response:
작업지시 기능에 대한 기획을 시작하겠습니다.

먼저 Notion 기획문서 DB에 항목을 생성합니다.

## 초기 분석

**기획 명칭**: [FEAT] 작업지시 관리
**목적**: 생산 현장 작업 지시 및 진행 추적
**타겟 사용자**: 생산 관리자, 현장 작업자

## 예상 화면 구성 (shadcn 기반)

1. **작업지시 목록** (S001)
   - shadcn: DataTable, Tabs, Badge
   - 블록: table-01

2. **작업지시 등록/수정** (F001)
   - shadcn: Sheet, Form, Input, Select, DatePicker
   - 블록: form-01

3. **원재료 선택** (P001)
   - shadcn: Dialog, DataTable
   - 블록: dialog-01

다음 질문에 답해주세요:

1. 작업지시에 포함되어야 할 정보는 무엇인가요?
2. 작업 상태 관리는 어떻게 하나요?
3. 어떤 권한이 필요한가요?
```

### Example 2: Notion Registration
```
User: 기획 초안 노션에 저장해줘

Response:
Notion 기획문서 DB에 저장합니다.

생성 항목:
- 기획 명칭: [FEAT] 작업지시 관리
- 기획 요약: 생산 현장에서 작업 지시를 생성하고 진행 상황을 추적하는 기능
- 유형: 신규 기능
- 우선 순위: P2(보통)
- 진행 단계: 기획 초벌
- 버전: 1.0

[Notion DB 항목 생성 완료]

상세 기획서 내용을 해당 DB 항목에 작성하겠습니다.

[상세 기획서 content 업데이트 완료]
```

### Example 3: Design Handoff
```
User: 기획 완료. 디자인 단계로 넘어가줘

Response:
기획이 완료되었습니다. 디자인 핸드오프를 준비합니다.

## Notion DB 업데이트
- 진행 단계: 부서협의중 → 기획확정
- 디자인 핸드오프: ✓
- 버전: 2.0

## 디자인 핸드오프 문서

### 화면 목록
| 화면명 | 코드 | shadcn 블록 |
|--------|------|-------------|
| 작업지시 목록 | BITDA-CM-PRD-WO-S001 | table-01 |
| 작업지시 등록 | BITDA-CM-PRD-WO-F001 | form-01 |
| 원재료 선택 | BITDA-CM-PRD-WO-P001 | dialog-01 |

### 다음 단계
ui-designer 스킬을 실행하여 코드를 생성하세요:
"작업지시 화면 코드 생성해줘"
```
